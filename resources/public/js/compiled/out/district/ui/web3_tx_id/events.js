// Compiled by ClojureScript 1.10.238 {}
goog.provide('district.ui.web3_tx_id.events');
goog.require('cljs.core');
goog.require('cljs_web3.core');
goog.require('cljs.spec.alpha');
goog.require('day8.re_frame.forward_events_fx');
goog.require('district.ui.web3_tx_id.queries');
goog.require('district.ui.web3_tx.events');
goog.require('district.ui.web3_tx.queries');
goog.require('district0x.re_frame.spec_interceptors');
goog.require('re_frame.core');
district.ui.web3_tx_id.events.interceptors = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [re_frame.core.trim_v], null);
cljs.spec.alpha.def_impl.call(null,new cljs.core.Keyword("district.ui.web3-tx-id.events","tx-hash","district.ui.web3-tx-id.events/tx-hash",-506649039),new cljs.core.Symbol("cljs.core","string?","cljs.core/string?",-2072921719,null),cljs.core.string_QMARK_);
cljs.spec.alpha.def_impl.call(null,new cljs.core.Keyword("district.ui.web3-tx-id.events","tx-id","district.ui.web3-tx-id.events/tx-id",421218639),cljs.core.list(new cljs.core.Symbol("cljs.core","complement","cljs.core/complement",-498493640,null),new cljs.core.Symbol("cljs.core","nil?","cljs.core/nil?",945071861,null)),cljs.core.complement.call(null,cljs.core.nil_QMARK_));
cljs.spec.alpha.def_impl.call(null,new cljs.core.Keyword("district.ui.web3-tx-id.events","from","district.ui.web3-tx-id.events/from",-584900901),new cljs.core.Symbol("cljs-web3.core","address?","cljs-web3.core/address?",-1543623079,null),cljs_web3.core.address_QMARK_);
cljs.spec.alpha.def_impl.call(null,new cljs.core.Keyword("district.ui.web3-tx-id.events","fn","district.ui.web3-tx-id.events/fn",1828897419),new cljs.core.Symbol("cljs.core","keyword?","cljs.core/keyword?",713156450,null),cljs.core.keyword_QMARK_);
cljs.spec.alpha.def_impl.call(null,new cljs.core.Keyword("district.ui.web3-tx-id.events","opts","district.ui.web3-tx-id.events/opts",-227658258),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null),new cljs.core.Keyword(null,"opt-un","opt-un",883442496),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("district.ui.web3-tx-id.events","fn","district.ui.web3-tx-id.events/fn",1828897419),new cljs.core.Keyword("district.ui.web3-tx-id.events","from","district.ui.web3-tx-id.events/from",-584900901)], null)),cljs.spec.alpha.map_spec_impl.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.Keyword(null,"opt-un","opt-un",883442496),new cljs.core.Keyword(null,"gfn","gfn",791517474),new cljs.core.Keyword(null,"pred-exprs","pred-exprs",1792271395),new cljs.core.Keyword(null,"keys-pred","keys-pred",858984739),new cljs.core.Keyword(null,"opt-keys","opt-keys",1262688261),new cljs.core.Keyword(null,"req-specs","req-specs",553962313),new cljs.core.Keyword(null,"req","req",-326448303),new cljs.core.Keyword(null,"req-keys","req-keys",514319221),new cljs.core.Keyword(null,"opt-specs","opt-specs",-384905450),new cljs.core.Keyword(null,"pred-forms","pred-forms",172611832),new cljs.core.Keyword(null,"opt","opt",-794706369)],[null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("district.ui.web3-tx-id.events","fn","district.ui.web3-tx-id.events/fn",1828897419),new cljs.core.Keyword("district.ui.web3-tx-id.events","from","district.ui.web3-tx-id.events/from",-584900901)], null),null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [(function (G__25528){
return cljs.core.map_QMARK_.call(null,G__25528);
})], null),(function (G__25528){
return cljs.core.map_QMARK_.call(null,G__25528);
}),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"fn","fn",-1175266204),new cljs.core.Keyword(null,"from","from",1815293044)], null),cljs.core.PersistentVector.EMPTY,null,cljs.core.PersistentVector.EMPTY,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("district.ui.web3-tx-id.events","fn","district.ui.web3-tx-id.events/fn",1828897419),new cljs.core.Keyword("district.ui.web3-tx-id.events","from","district.ui.web3-tx-id.events/from",-584900901)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","map?","cljs.core/map?",-1390345523,null),new cljs.core.Symbol(null,"%","%",-950237169,null)))], null),null])));
re_frame.core.reg_event_fx.call(null,new cljs.core.Keyword("district.ui.web3-tx-id.events","start","district.ui.web3-tx-id.events/start",400808820),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [district.ui.web3_tx_id.events.interceptors,re_frame.core.inject_cofx.call(null,new cljs.core.Keyword(null,"web3-tx-id-localstorage","web3-tx-id-localstorage",604243072))], null),(function (p__25529){
var map__25530 = p__25529;
var map__25530__$1 = ((((!((map__25530 == null)))?(((((map__25530.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__25530.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.call(null,cljs.core.hash_map,map__25530):map__25530);
var db = cljs.core.get.call(null,map__25530__$1,new cljs.core.Keyword(null,"db","db",993250759));
var web3_tx_id_localstorage = cljs.core.get.call(null,map__25530__$1,new cljs.core.Keyword(null,"web3-tx-id-localstorage","web3-tx-id-localstorage",604243072));
return new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"db","db",993250759),district.ui.web3_tx_id.queries.assoc_web3_tx_id.call(null,db,(cljs.core.truth_(district.ui.web3_tx.queries.localstorage_disabled_QMARK_.call(null,db))?cljs.core.PersistentArrayMap.EMPTY:district.ui.web3_tx_id.queries.web3_tx_id.call(null,web3_tx_id_localstorage))),new cljs.core.Keyword(null,"forward-events","forward-events",1216790539),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"register","register",1968522516),new cljs.core.Keyword("district.ui.web3-tx-id.events","tx-hash","district.ui.web3-tx-id.events/tx-hash",-506649039),new cljs.core.Keyword(null,"events","events",1792552201),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("district.ui.web3-tx.events","tx-hash","district.ui.web3-tx.events/tx-hash",-1080771687),null], null), null),new cljs.core.Keyword(null,"dispatch-to","dispatch-to",-354764401),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("district.ui.web3-tx-id.events","add-tx-hash*","district.ui.web3-tx-id.events/add-tx-hash*",-758530617)], null)], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"register","register",1968522516),new cljs.core.Keyword("district.ui.web3-tx-id.events","remove-tx","district.ui.web3-tx-id.events/remove-tx",-1442140234),new cljs.core.Keyword(null,"events","events",1792552201),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("district.ui.web3-tx.events","remove-tx","district.ui.web3-tx.events/remove-tx",106007566),null], null), null),new cljs.core.Keyword(null,"dispatch-to","dispatch-to",-354764401),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("district.ui.web3-tx-id.events","remove-tx-id*","district.ui.web3-tx-id.events/remove-tx-id*",-1039426016)], null)], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"register","register",1968522516),new cljs.core.Keyword("district.ui.web3-tx-id.events","clear-localstorage","district.ui.web3-tx-id.events/clear-localstorage",141010294),new cljs.core.Keyword(null,"events","events",1792552201),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("district.ui.web3-tx.events","clear-localstorage","district.ui.web3-tx.events/clear-localstorage",1773224158),null], null), null),new cljs.core.Keyword(null,"dispatch-to","dispatch-to",-354764401),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("district.ui.web3-tx-id.events","clear-localstorage","district.ui.web3-tx-id.events/clear-localstorage",141010294)], null)], null)], null)], null);
}));
re_frame.core.reg_event_fx.call(null,new cljs.core.Keyword("district.ui.web3-tx-id.events","add-tx-hash*","district.ui.web3-tx-id.events/add-tx-hash*",-758530617),district.ui.web3_tx_id.events.interceptors,(function (p__25532,p__25533){
var map__25534 = p__25532;
var map__25534__$1 = ((((!((map__25534 == null)))?(((((map__25534.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__25534.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.call(null,cljs.core.hash_map,map__25534):map__25534);
var db = cljs.core.get.call(null,map__25534__$1,new cljs.core.Keyword(null,"db","db",993250759));
var vec__25535 = p__25533;
var vec__25538 = cljs.core.nth.call(null,vec__25535,(0),null);
var _ = cljs.core.nth.call(null,vec__25538,(0),null);
var map__25541 = cljs.core.nth.call(null,vec__25538,(1),null);
var map__25541__$1 = ((((!((map__25541 == null)))?(((((map__25541.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__25541.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.call(null,cljs.core.hash_map,map__25541):map__25541);
var tx_id = cljs.core.get.call(null,map__25541__$1,new cljs.core.Keyword(null,"tx-id","tx-id",638275288));
var tx_opts = cljs.core.get.call(null,map__25541__$1,new cljs.core.Keyword(null,"tx-opts","tx-opts",1753016225));
var fn = cljs.core.get.call(null,map__25541__$1,new cljs.core.Keyword(null,"fn","fn",-1175266204));
var tx_hash = cljs.core.nth.call(null,vec__25538,(2),null);
if(cljs.core.truth_(tx_id)){
return new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"dispatch","dispatch",1319337009),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("district.ui.web3-tx-id.events","add-tx-hash","district.ui.web3-tx-id.events/add-tx-hash",-348009764),tx_id,tx_hash,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"from","from",1815293044),new cljs.core.Keyword(null,"from","from",1815293044).cljs$core$IFn$_invoke$arity$1(tx_opts),new cljs.core.Keyword(null,"fn","fn",-1175266204),fn], null)], null)], null);
} else {
return null;
}
}));
re_frame.core.reg_event_fx.call(null,new cljs.core.Keyword("district.ui.web3-tx-id.events","add-tx-hash","district.ui.web3-tx-id.events/add-tx-hash",-348009764),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [district.ui.web3_tx_id.events.interceptors,district0x.re_frame.spec_interceptors.validate_args.call(null,cljs.spec.alpha.cat_impl.call(null,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tx-id","tx-id",638275288),new cljs.core.Keyword(null,"tx-hash","tx-hash",-1256378200),new cljs.core.Keyword(null,"opts","opts",155075701),new cljs.core.Keyword(null,"args","args",1315556576)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("district.ui.web3-tx-id.events","tx-id","district.ui.web3-tx-id.events/tx-id",421218639),new cljs.core.Keyword("district.ui.web3-tx-id.events","tx-hash","district.ui.web3-tx-id.events/tx-hash",-506649039),cljs.spec.alpha.nilable_impl.call(null,new cljs.core.Keyword("district.ui.web3-tx-id.events","opts","district.ui.web3-tx-id.events/opts",-227658258),new cljs.core.Keyword("district.ui.web3-tx-id.events","opts","district.ui.web3-tx-id.events/opts",-227658258),null),cljs.spec.alpha.rep_impl.call(null,new cljs.core.Symbol("cljs.core","any?","cljs.core/any?",-2068111842,null),cljs.core.any_QMARK_)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("district.ui.web3-tx-id.events","tx-id","district.ui.web3-tx-id.events/tx-id",421218639),new cljs.core.Keyword("district.ui.web3-tx-id.events","tx-hash","district.ui.web3-tx-id.events/tx-hash",-506649039),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","nilable","cljs.spec.alpha/nilable",1628308748,null),new cljs.core.Keyword("district.ui.web3-tx-id.events","opts","district.ui.web3-tx-id.events/opts",-227658258)),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","*","cljs.spec.alpha/*",-1238084288,null),new cljs.core.Symbol("cljs.core","any?","cljs.core/any?",-2068111842,null))], null)))], null),(function (p__25544,p__25545){
var map__25546 = p__25544;
var map__25546__$1 = ((((!((map__25546 == null)))?(((((map__25546.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__25546.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.call(null,cljs.core.hash_map,map__25546):map__25546);
var db = cljs.core.get.call(null,map__25546__$1,new cljs.core.Keyword(null,"db","db",993250759));
var vec__25547 = p__25545;
var tx_id = cljs.core.nth.call(null,vec__25547,(0),null);
var tx_hash = cljs.core.nth.call(null,vec__25547,(1),null);
var opts = cljs.core.nth.call(null,vec__25547,(2),null);
var new_db = district.ui.web3_tx_id.queries.add_tx_hash.call(null,db,tx_id,tx_hash,opts);
return cljs.core.merge.call(null,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"db","db",993250759),new_db], null),(cljs.core.truth_(district.ui.web3_tx.queries.localstorage_disabled_QMARK_.call(null,db))?null:new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"web3-tx-id-localstorage","web3-tx-id-localstorage",604243072),cljs.core.select_keys.call(null,new_db,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [district.ui.web3_tx_id.queries.db_key], null))], null)));
}));
re_frame.core.reg_event_fx.call(null,new cljs.core.Keyword("district.ui.web3-tx-id.events","remove-tx-id*","district.ui.web3-tx-id.events/remove-tx-id*",-1039426016),district.ui.web3_tx_id.events.interceptors,(function (p__25551,p__25552){
var map__25553 = p__25551;
var map__25553__$1 = ((((!((map__25553 == null)))?(((((map__25553.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__25553.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.call(null,cljs.core.hash_map,map__25553):map__25553);
var db = cljs.core.get.call(null,map__25553__$1,new cljs.core.Keyword(null,"db","db",993250759));
var vec__25554 = p__25552;
var vec__25557 = cljs.core.nth.call(null,vec__25554,(0),null);
var _ = cljs.core.nth.call(null,vec__25557,(0),null);
var tx_hash = cljs.core.nth.call(null,vec__25557,(1),null);
return new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"dispatch","dispatch",1319337009),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("district.ui.web3-tx-id.events","remove-tx-id","district.ui.web3-tx-id.events/remove-tx-id",-2098609463),tx_hash], null)], null);
}));
re_frame.core.reg_event_fx.call(null,new cljs.core.Keyword("district.ui.web3-tx-id.events","remove-tx-id","district.ui.web3-tx-id.events/remove-tx-id",-2098609463),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [district.ui.web3_tx_id.events.interceptors,district0x.re_frame.spec_interceptors.validate_first_arg.call(null,new cljs.core.Keyword("district.ui.web3-tx-id.events","tx-hash","district.ui.web3-tx-id.events/tx-hash",-506649039))], null),(function (p__25561,p__25562){
var map__25563 = p__25561;
var map__25563__$1 = ((((!((map__25563 == null)))?(((((map__25563.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__25563.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.call(null,cljs.core.hash_map,map__25563):map__25563);
var db = cljs.core.get.call(null,map__25563__$1,new cljs.core.Keyword(null,"db","db",993250759));
var vec__25564 = p__25562;
var tx_hash = cljs.core.nth.call(null,vec__25564,(0),null);
var new_db = district.ui.web3_tx_id.queries.remove_tx_id.call(null,db,tx_hash);
return cljs.core.merge.call(null,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"db","db",993250759),new_db], null),(cljs.core.truth_(district.ui.web3_tx.queries.localstorage_disabled_QMARK_.call(null,db))?null:new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"web3-tx-id-localstorage","web3-tx-id-localstorage",604243072),cljs.core.select_keys.call(null,new_db,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [district.ui.web3_tx_id.queries.db_key], null))], null)));
}));
re_frame.core.reg_event_fx.call(null,new cljs.core.Keyword("district.ui.web3-tx-id.events","clear-localstorage","district.ui.web3-tx-id.events/clear-localstorage",141010294),(function (){
return new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"web3-tx-id-localstorage","web3-tx-id-localstorage",604243072),null], null);
}));
re_frame.core.reg_event_fx.call(null,new cljs.core.Keyword("district.ui.web3-tx-id.events","stop","district.ui.web3-tx-id.events/stop",896816265),district.ui.web3_tx_id.events.interceptors,(function (p__25568){
var map__25569 = p__25568;
var map__25569__$1 = ((((!((map__25569 == null)))?(((((map__25569.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__25569.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.call(null,cljs.core.hash_map,map__25569):map__25569);
var db = cljs.core.get.call(null,map__25569__$1,new cljs.core.Keyword(null,"db","db",993250759));
return new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"db","db",993250759),district.ui.web3_tx_id.queries.dissoc_web3_tx_id.call(null,db),new cljs.core.Keyword(null,"forward-events","forward-events",1216790539),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"unregister","unregister",2105339971),new cljs.core.Keyword("district.ui.web3-tx-id.events","tx-hash","district.ui.web3-tx-id.events/tx-hash",-506649039)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"unregister","unregister",2105339971),new cljs.core.Keyword("district.ui.web3-tx-id.events","remove-tx","district.ui.web3-tx-id.events/remove-tx",-1442140234)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"unregister","unregister",2105339971),new cljs.core.Keyword("district.ui.web3-tx-id.events","clear-localstorage","district.ui.web3-tx-id.events/clear-localstorage",141010294)], null)], null)], null);
}));

//# sourceMappingURL=events.js.map?rel=1526741424491
